<!DOCTYPE html>
<html lang='en'>
<head>
    <meta charset='utf-8' />
    <title>Local search app</title>
    <meta name='viewport' content='width=device-width, initial-scale=1' />
    <script src='https://api.mapbox.com/mapbox-gl-js/v2.13.0/mapbox-gl.js'></script>
    <link href='https://api.mapbox.com/mapbox-gl-js/v2.13.0/mapbox-gl.css' rel='stylesheet' />
    <!--geocoder-->
    <script src='https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.7.0/mapbox-gl-geocoder.min.js'></script>
    <link rel='stylesheet' href='https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.7.0/mapbox-gl-geocoder.css' type='text/css' />
    <style>
        #map {
            border: 3px solid pink;
            margin: 5em 1em;
            height: 40vh;
            width: 90vw;
        }
    </style>
</head>
<body>
<div id="map"></div>

<script src="js/mapbox-geocoder-utils.js"></script>
<script>
    let myToken = "pk.eyJ1IjoiZGFuaWVsYXBzYWxhcyIsImEiOiJjbGYyeWMwdmQwYjNmM3lwZm45aGthazgzIn0.5C09BaZ5fe1N8IKJauaSog";
    mapboxgl.accessToken = myToken;

    const map = new mapboxgl.Map(
        {
            container: 'map', // container ID
            style: 'mapbox://styles/mapbox/outdoors-v12', // style URL
            center: [-100.316116,25.686613], // starting position [lng, lat]
            zoom: 8, // starting zoom (0 - 20)
        }
    );

    geocode("Av Lázaro Cárdenas 2424, Monterrey, Nuevo Leon, Mexico", myToken).then(function(results){
        // marker
        let myMarker = new mapboxgl.Marker();
        myMarker.setLngLat(results);
        myMarker.addTo(map);

        //zoom
        let myOptionsObj = {center: results, zoom: 12};
        map.flyTo(myOptionsObj);

        // popUp
        let myPopup = new mapboxgl.Popup();
        myPopup.setHTML("<span>CHEZ Cocina Tradicional</span>");
        myMarker.setPopup(myPopup);
    })



</script>
</body>
</html>
